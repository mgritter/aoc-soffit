{
    "version" : "0.1",

    "LAYERS[layers]; LAYERS->X; X[0];" : 
    "LAYERS[layers]; LAYERS->X [counted]; X[0]; COUNTER[count]; COUNTER->X[pos]; COUNTER->END0 [0]; COUNTER->END1 [1]; COUNTER->END2[2]; END0[end]; END1[end]; END2[end]",
    "LAYERS[layers]; LAYERS->X; X[1];" : 
    "LAYERS[layers]; LAYERS->X [counted]; X[1]; COUNTER[count]; COUNTER->X[pos]; COUNTER->END0 [0]; COUNTER->END1 [1]; COUNTER->END2[2]; END0[end]; END1[end]; END2[end]",
    "LAYERS[layers]; LAYERS->X; X[2];" : 
    "LAYERS[layers]; LAYERS->X [counted]; X[2]; COUNTER[count]; COUNTER->X[pos]; pos; COUNTER->END0 [0]; COUNTER->END1 [1]; COUNTER->END2[2]; END0[end]; END1[end]; END2[end]",

    "X[0]; NX[0]; COUNTER->TALLY[0];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[0]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[0]; NX[0]; COUNTER->TALLY[0];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[0]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[0]; NX[1]; COUNTER->TALLY[0];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[1]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[0]; NX[1]; COUNTER->TALLY[0];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[1]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[0]; NX[2]; COUNTER->TALLY[0];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[2]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[0]; NX[2]; COUNTER->TALLY[0];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[2]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",

    "X[1]; NX[0]; COUNTER->TALLY[1];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[0]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[1]; NX[0]; COUNTER->TALLY[1];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[0]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[1]; NX[1]; COUNTER->TALLY[1];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[1]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[1]; NX[1]; COUNTER->TALLY[1];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[1]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[1]; NX[2]; COUNTER->TALLY[1];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[2]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[1]; NX[2]; COUNTER->TALLY[1];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[2]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    
    "X[2]; NX[0]; COUNTER->TALLY[2];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[0]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[2]; NX[0]; COUNTER->TALLY[2];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[0]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[2]; NX[1]; COUNTER->TALLY[2];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[1]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[2]; NX[1]; COUNTER->TALLY[2];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[1]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[2]; NX[2]; COUNTER->TALLY[2];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[2]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",
    "X[2]; NX[2]; COUNTER->TALLY[2];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[2]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count]; COUNTER->NX[pos]; X->NX [next];",

    "COMMENT[FIXME: probably want to keep track of which layer it was]" : "",
    
    "X[0]; NX[end]; COUNTER->TALLY[0];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[end]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count_done];             X->NX [next];",
    "X[0]; NX[end]; COUNTER->TALLY[0];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[0]; NX[end]; COUNTER->NT[0]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count_done];             X->NX [next];",    
    "X[1]; NX[end]; COUNTER->TALLY[1];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[end]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count_done];             X->NX [next];",
    "X[1]; NX[end]; COUNTER->TALLY[1];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[1]; NX[end]; COUNTER->NT[1]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count_done];             X->NX [next];",    
    "X[2]; NX[end]; COUNTER->TALLY[2];                 TALLY[end]; COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[end]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[end]; COUNTER[count_done];             X->NX [next];",
    "X[2]; NX[end]; COUNTER->TALLY[2];                 TALLY[+1];  COUNTER[count]; COUNTER->X[pos]; X->NX [next];" :
    "X[2]; NX[end]; COUNTER->NT[2]; NT[+1]; NT->TALLY; TALLY[+1];  COUNTER[count_done];             X->NX [next];",    

    "COMMENT[roll up tallies]" : "",
    
    "T0->T1->T2->T3->T4->T5->T6->T7->T8->T9->TX->TE; T0[+1]; T1[+1]; T2[+1]; T3[+1]; T4[+1]; T5[+1]; T6[+1]; T7[+1]; T8[+1]; T9[+1]; TX[+1]; TE[end];" :
    "T0->TX->TE; T0[+1]; TX[+10]; TE[end];",
    
    "T0->T1->T2->T3->T4->T5->T6->T7->T8->T9->TX->TE; T0[+1]; T1[+1]; T2[+1]; T3[+1]; T4[+1]; T5[+1]; T6[+1]; T7[+1]; T8[+1]; T9[+1]; TX[+1]; TE[+10];" :
    "T0->TX->TE; T0[+1]; TX[+10]; TE[+10];",
    
    "T0->T1->T2->T3->T4->T5->T6->T7->T8->T9->TX->TE; T0[+1]; T1[+1]; T2[+1]; T3[+1]; T4[+1]; T5[+1]; T6[+1]; T7[+1]; T8[+1]; T9[+1]; TX[+1]; TE[+100];" :
    "T0->TX->TE; T0[+1]; TX[+10]; TE[+100];",

    "T1->T2->T3->T4->T5->T6->T7->T8->T9->TX->TE; T1[+10]; T2[+10]; T3[+10]; T4[+10]; T5[+10]; T6[+10]; T7[+10]; T8[+10]; T9[+10]; TX[+10]; TE[end];" :
    "TX->TE; T1^TX[+100]; TE[end];",
    
    "T1->T2->T3->T4->T5->T6->T7->T8->T9->TX->TE; T1[+10]; T2[+10]; T3[+10]; T4[+10]; T5[+10]; T6[+10]; T7[+10]; T8[+10]; T9[+10]; TX[+10]; TE[+100];" :
    "TX->TE; T1^TX[+100]; TE[+100];"
    
        
}
